import{o as d,c as n,a as e,_ as x,D as v,H as a,b as m,r as _,f as b,h as y,K as f,E as c,J as u,e as w,L as g}from"./index-d2762744.js";import{_ as P,a as k}from"./webAdmin_transparent-84db2a95.js";function $(t,s){return d(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M11.03 3.97a.75.75 0 010 1.06l-6.22 6.22H21a.75.75 0 010 1.5H4.81l6.22 6.22a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z","clip-rule":"evenodd"})])}const l=v(),C={components:{ArrowLeftIcon:$},data(){return{user:{email:""},recovery_details:{password:""},mail_received:!1,confirmed_password:"",password_matched:!1}},methods:{async submit(){a.start();try{const t=await m.post("https://bluvardadmin.onrender.com/password-reset",this.user);l.setToast("Success!: Check your mail for other instructions."),a.done()}catch(t){a.done(),console.log(t),l.setToast("Couldnt complete your request!. Try Again.")}},async setPassword(){console.log("setting new Password"),a.start();try{if(this.password_matched){const t=this.$route.query.token,s={password:this.recovery_details.password,token:t},p=await m.post("https://bluvardadmin.onrender.com/password-reset/update",s);return l.setToast("Success!: Password changed successfully. Login with your details to continue"),this.$router.push("/signin"),a.done()}this.$refs.confirmedPassword.focus(),a.done(),l.setToast("Passwords do not match")}catch(t){a.done(),console.log(t),l.setToast(t.response.data)}},confirmPassword(){if(this.recovery_details.password==""&&this.$refs.userPassword.focus(),this.$refs.userPassword.value!=this.$refs.confirmedPassword.value){this.$refs.confirmedPassword.focus(),this.$refs.confirmedPassword.style.border="1px solid red",this.$refs.userPassword.style.border="1px solid red",this.password_matched=!1;return}this.$refs.userPassword.style.border="1px solid green",this.$refs.confirmedPassword.style.border="1px solid green",this.password_matched=!0}},mounted(){this.$route.query.token&&(this.mail_received=!0)}},T={class:"w-full h-screen max-md:flex-col max-md:gap-10 flex items-center justify-center"},V=g('<div class="md:w-1/2 max-md:h-56 max-md:w-full h-screen flex flex-col items-center justify-center relative"><img src="'+k+'" class="h-full object-cover w-full absolute inset-0 -z-10" alt=""><div class="w-56"><h2 class="mt-6 md:text-center text-6xl max-md:text-4xl font-extrabold text-white mb-4">Recover Password</h2><p class="text-white text-sm max-md:text-xs">Can&#39;t Login due to forgotten password? Follow the instructions to recover your password.</p></div></div>',1),N={class:"md:w-1/2"},q={class:"max-w-md w-full mx-auto space-y-8 md:p-10 p-5"},L=e("div",{class:"title"},[e("h1",{class:"text-orange-600 font-semibold"},[e("img",{src:P,alt:"",class:"w-56 max-md:w-40 mix-blend-darker"})])],-1),S={key:0,class:"content text-center"},A=e("div",null,[e("h1",{class:"font-bold text-2xl"},"Create New Password")],-1),E=e("label",{for:"",class:"block text-left mb-3"}," New Password ",-1),j=e("label",{for:"",class:"block text-left mb-3"}," Confirm Password ",-1),B=e("button",{class:"rounded p-3 text-white w-full block text-center bg-orange-400 hover:bg-orange-500"},"Continue",-1),D={key:1,class:"content flex flex-col gap-4 text-center"},H=e("p",{class:"text-left text-black text-sm"},"Enter the Email address associated with your account and we'will send you a link to reset your password",-1),I=e("label",{for:"",class:"block text-left mb-3"}," Email Address ",-1),M=e("button",{class:"rounded p-3 text-white w-full block text-center bg-orange-400 hover:bg-orange-500"},"Continue",-1),U=e("div",{class:"footer flex gap-2 w-full justify-around text-xs"},[e("p",null,"Developed by @tecxha"),e("p",null,"contact"),e("p",null,"Privacy & terms")],-1);function z(t,s,p,K,r,i){const h=_("ArrowLeftIcon");return d(),n("div",T,[V,e("div",N,[e("div",q,[e("button",{onClick:s[0]||(s[0]=o=>t.$router.go(-1)),class:"p-2 bg-white text-left flex items-center gap-2 absolute md:top-10 top-2 left-2 md:left-10"},[b(h,{class:"w-4"}),y("go back ")]),L,r.mail_received?(d(),n("div",S,[A,e("form",{onSubmit:s[4]||(s[4]=f(o=>i.setPassword(),["prevent"])),class:"my-5"},[e("div",null,[E,c(e("input",{type:"password",class:"rounded block w-full mb-3",required:"","onUpdate:modelValue":s[1]||(s[1]=o=>r.recovery_details.password=o),ref:"userPassword",autocomplete:""},null,512),[[u,r.recovery_details.password]])]),e("div",null,[j,c(e("input",{type:"password",class:"rounded block w-full mb-3",required:"","onUpdate:modelValue":s[2]||(s[2]=o=>r.confirmed_password=o),onKeyup:s[3]||(s[3]=o=>i.confirmPassword()),ref:"confirmedPassword",autocomplete:""},null,544),[[u,r.confirmed_password]])]),B],32)])):w("",!0),r.mail_received?w("",!0):(d(),n("div",D,[H,e("form",{onSubmit:s[6]||(s[6]=f(o=>i.submit(),["prevent"])),class:""},[I,c(e("input",{type:"email",class:"rounded block w-full mb-3",required:"","onUpdate:modelValue":s[5]||(s[5]=o=>r.user.email=o),autocomplete:"email"},null,512),[[u,r.user.email]]),M],32)])),U])])])}const R=x(C,[["render",z]]);export{R as default};
