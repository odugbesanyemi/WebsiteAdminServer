import{_ as u,D as m,H as t,d as f,b as h,o as n,c as p,a as s,E as d,J as a,n as w,t as _,e as x,K as b}from"./index-d2762744.js";const c=m(),g={data(){return{message:"",verifyPassword:"",verified:!1,password:{old_password:"",new_password:""}}},methods:{changePassword(){if(this.checkVerification(),t.start(),this.password.old_password&&this.verified){const i=f.get("userID");h.post(`https://bluvardadmin.onrender.com/user/password/${i}`,this.password).then(e=>{this.password.old_password="",this.password.new_password="",this.verifyPassword="",t.done(),c.setToast("Password Changed Successfully")}).catch(e=>{t.done(),this.message="something went wrong. Kindly Try Again.",c.setToast(this.message)})}},checkVerification(){this.password.new_password!=this.verifyPassword?(this.verified=!1,this.message="Passwords must match"):(this.message="",this.verified=!0)}}},y=s("div",{class:""},[s("p",{class:"py-3 font-medium text-2xl text-gray-700 max-md:text-xl"},"Password"),s("p",{class:"text-xs text-gray-400"},"feel free to edit your password. Ensure to keep your password safe at all time."),s("hr",{class:"my-5"})],-1),v={class:"profile-details text-sm"},k={action:""},P={class:"flex flex-col gap-5"},C={class:"w-full"},V=s("label",{class:"block mb-2 text-slate-700 text-sm"},"Current password",-1),S={class:"w-full"},T=s("label",{class:"block mb-2 text-slate-700 text-sm"},"New password",-1),D={class:"w-full"},N=s("label",{class:"block mb-2 text-slate-700 text-sm"},"Confirm password",-1),q={key:0,class:"text-red-400 p-2 border border-red-300 rounded my-5 transition-all"},B=["disabled"];function E(i,e,K,U,r,l){return n(),p("div",null,[y,s("div",v,[s("form",k,[s("div",P,[s("div",C,[V,d(s("input",{type:"password",name:"",class:"p-2 rounded border-2 px-4 border-slate-400/30 w-full",id:"","onUpdate:modelValue":e[0]||(e[0]=o=>r.password.old_password=o),placeholder:"Current password",required:""},null,512),[[a,r.password.old_password]])]),s("div",S,[T,d(s("input",{type:"password",name:"",class:w(["p-2 rounded border-2 px-4 border-slate-400/30 w-full",[r.verified?"":"outline-red-400"]]),id:"","onUpdate:modelValue":e[1]||(e[1]=o=>r.password.new_password=o),placeholder:"New password",required:""},null,2),[[a,r.password.new_password]])]),s("div",D,[N,d(s("input",{onKeyup:e[2]||(e[2]=o=>l.checkVerification()),type:"",name:"",class:w(["p-2 rounded border-2 px-4 border-slate-400/30 w-full",[r.message?" ring-red-500 border-2 border-red-500":""]]),id:"","onUpdate:modelValue":e[3]||(e[3]=o=>r.verifyPassword=o),placeholder:"Confirm password",required:""},null,34),[[a,r.verifyPassword]])]),r.message?(n(),p("span",q,_(r.message),1)):x("",!0)]),s("button",{onClick:e[4]||(e[4]=b(o=>l.changePassword(),["prevent"])),disabled:r.verified==!1,class:"px-4 p-2 my-5 bg-gray-500 hover:bg-gray-600 text-gray-50 rounded"},"Submit",8,B)])])])}const M=u(g,[["render",E]]);export{M as default};
