import{o as a,c as r,a as s,_ as m,b as d,d as c,r as _,F as g,i as f,n as o,t as l,f as x,h as v,e as u}from"./index-d2762744.js";function w(e,i){return a(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 9v.906a2.25 2.25 0 01-1.183 1.981l-6.478 3.488M2.25 9v.906a2.25 2.25 0 001.183 1.981l6.478 3.488m8.839 2.51l-4.66-2.51m0 0l-1.023-.55a2.25 2.25 0 00-2.134 0l-1.022.55m0 0l-4.661 2.51m16.5 1.615a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V8.844a2.25 2.25 0 011.183-1.98l7.5-4.04a2.25 2.25 0 012.134 0l7.5 4.04a2.25 2.25 0 011.183 1.98V19.5z"})])}function O(e,i){return a(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})])}const b={props:["showOptions"],components:{EnvelopeOpenIcon:w},data(){return{userNotifications:[],isRead:"",data:""}},methods:{getUserNotification(){d.get(`https://bluvardadmin.onrender.com/notification/${c.get("userID")}`).then(e=>{this.userNotifications=e.data}).catch(e=>{})},updateUserNotification(e){c.get("userID"),d.post(`https://bluvardadmin.onrender.com/notification/${e}`,{status:"read"}),this.getUserNotification()}},mounted(){this.getUserNotification()},created(){this.$emit("is-new-notification",this.data)},computed:{isUnread(){return this.userNotifications.filter(e=>e.status==="unread")}}},k={class:"text-xs"},N=["onClick","disabled"],U=s("span",{class:"max-md:hidden"},"mark as read",-1),y={key:1,class:"p-2"},C=s("p",{class:"text-xs px-5"},"You have no new notifications",-1),$=[C];function V(e,i,B,I,p,n){const h=_("EnvelopeOpenIcon");return a(),r("div",null,[n.isUnread.length?(a(!0),r(g,{key:0},f(p.userNotifications,t=>(a(),r("div",{class:o(["border-b relative border-slate-200/40 p-2 md:px-5 md:py-3 hover:bg-slate-50",[t.status=="read"?"":"bg-gray-200"]])},[s("p",{class:o(["mb-2",[(t.status=="unread","font-normal")]])},l(t.message),3),s("p",k,l(new Date(t.date_created).toLocaleString()),1),s("div",{class:o(["options absolute right-5 top-1/2 -translate-y-1/2 flex flex-row",[t.status=="read"?"opacity-40":""]])},[s("button",{onClick:D=>n.updateUserNotification(t.id),class:o(["flex gap-2 text-xs items-center px-2 p-1 rounded-full border shadow-sm",[t.status=="read"?"":"border-indigo-500 bg-white"]]),disabled:t.status=="read"},[x(h,{class:"w-4"}),v(),U],10,N)],2)],2))),256)):u("",!0),n.isUnread.length?u("",!0):(a(),r("div",y,$))])}const z=m(b,[["render",V]]);export{z as n,O as r};
