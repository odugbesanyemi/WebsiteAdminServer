import{_ as y,D as x,b as d,H as n,o as a,c as r,a as e,F as m,i as h,e as f,t as p,p as b,k as v}from"./index-d2762744.js";const _=x(),T={data(){return{postTypes:[],templates:[],template:[]}},methods:{getPostTypes(){d.get("https://bluvardadmin.onrender.com/templates/post-type").then(t=>{this.postTypes=t.data}).catch(t=>{})},getTemplates(){const t=this.$route.params.id;d.get(`https://bluvardadmin.onrender.com/templates/post-type/${t}`).then(o=>{this.templates=o.data}).catch(o=>{})},imgName(t){return"https://bluvard.org/assets/"+t},goTo(t){this.$router.replace({query:{ptype:`${t}`},params:{id:`${t}`}})},goToPost(t){const o=this.$route.params.id;this.$router.push({path:"/post",query:{type:o,templates:t}})},getAllTemplates(){d.get("https://bluvardadmin.onrender.com/templates").then(t=>{this.template=t.data})},templateCount(t){return this.template.filter(o=>o.post_type==t).length},setDefault(t){n.start();const o=this.$route.query.ptype;d.post("https://bluvardadmin.onrender.com/templates/Default",{id:t,post_type:o}).then(i=>{_.setToast("Default Theme Changed"),n.done(),this.getAllTemplates()}).catch(i=>{n.done(),_.setToast("Error!: couldn't complete your request")})}},mounted(){this.getTemplates(),this.getPostTypes(),this.getAllTemplates()},computed:{computedTemplates(){return this.template.filter(t=>t.post_type==this.$route.query.ptype)}},updated(){document.title="Templates | Site Admin"}},c=t=>(b("data-v-cbd64337"),t=t(),v(),t),w={class:"content max-w-6xl mx-auto p-10 max-md:py-10 max-md:px-5 min-h-screen"},$=c(()=>e("div",{class:"title p-3 bg-white rounded-t-lg border border-gray-300"},[e("div",{class:"max-w-6xl py-3 px-5 mx-auto flex justify-between items-center"},[e("p",{class:"text-2xl text-gray-700"},"Post Templates"),e("button",{class:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded text-xs text-gray-50"},"New template")])],-1)),C={class:"flex md:flex-row flex-col bg-white border border-gray-300 border-t-0"},k={class:"p-5 border-r flex flex-col max-md:flex-row md:gap-5 gap-5 md:w-2/5 lg:w-1/5 overflow-x-auto max-md:justify-between"},D=["onClick"],S=c(()=>e("img",{src:"",alt:""},null,-1)),q={class:"absolute top-0 right-0 -translate-y-1/2 translate-x-1/2 text-xs bg-gray-600 ring ring-white text-gray-50 rounded-full shadow-sm px-2"},I={class:"relative md:w-full"},P={class:"grid grid-cols-3 max-md:grid-cols-1 gap-5 md:p-10 p-5"},j={class:"rounded border hover:shadow-md transition-all relative flex flex-col justify-between"},A=["src"],N={class:"p-5"},B={class:"text-lg py-3 text-gray-700"},E=["onClick"],F=["onClick","disabled"],V={key:0,class:"w-full flex items-center justify-center"},H=c(()=>e("p",{class:"text-4xl text-center p-10"},"Choose a template",-1)),L=[H];function z(t,o,i,G,g,l){return a(),r("div",w,[$,e("div",C,[e("div",k,[(a(!0),r(m,null,h(g.postTypes,s=>(a(),r("button",{onClick:u=>l.goTo(s.id),class:"rounded border p-3 hover:shadow-md focus:shadow-sm relative"},[S,e("p",null,p(s.type),1),e("span",q,p(l.templateCount(s.id)),1)],8,D))),256))]),e("div",I,[e("div",P,[(a(!0),r(m,null,h(l.computedTemplates,s=>(a(),r("div",j,[e("img",{src:s.template_image,alt:""},null,8,A),e("div",N,[e("p",B,p(s.template_title),1),e("button",{onClick:u=>l.goToPost(s.id),class:"py-2 w-full text-center bg-gradient-to-t from-gray-500 to-gray-400 rounded text-gray-50"},"Choose template",8,E),e("button",{onClick:u=>l.setDefault(s.id),class:"py-2 w-full text-center bg-gradient-to-t from-red-500 to-red-400 mt-2 rounded text-gray-50",disabled:s.default},p(s.default?"Default":"Set as Default Theme"),9,F)])]))),256))]),this.$route.query.ptype?f("",!0):(a(),r("div",V,L))])])])}const K=y(T,[["render",z],["__scopeId","data-v-cbd64337"]]);export{K as default};
