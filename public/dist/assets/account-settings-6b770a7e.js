import{_ as f,D as b,d as u,b as c,H as r,o as x,c as h,a as e,h as _,K as m,E as n,J as d}from"./index-d2762744.js";const g="/assets/User-Profile-PNG-8cb6c84b.png",a=b(),D={data(){return{userData:{},profilePicture:g,file:{},toast:a}},methods:{getUserData(){const o=u.get("userID");c.get(`https://bluvardadmin.onrender.com/user/${o}`).then(t=>{this.userData=t.data[0]}).catch(t=>{})},updateUser(){const o=u.get("userID");r.start(),c.post(`https://bluvardadmin.onrender.com/user/${o}`,this.userData).then(t=>{this.getUserData(),r.done(),a.setToast("Successfully Updated User Info.")}).catch(t=>{a.setToast("Failed to update User Info.")})},removeProfilePicture(){r.start();const o=u.get("userID");c.post(`https://bluvardadmin.onrender.com/user/${o}`,{profile_image:""}).then(t=>{this.getUserData(),r.done(),a.setToast("Profile Picture removed successfully")}).catch(t=>{a.setToast("Encountered a problem, Try Again!")})},uploadProfileImage(){const o=u.get("userID");this.file=this.$refs.file.files;const t=new FormData;t.append("file",this.file[0]),r.start(),c.post(`https://bluvardadmin.onrender.com/user/profile/upload/${o}`,t).then(p=>{this.getUserData(),r.done(),a.setToast("Success: Picture uploaded")}).catch(p=>{r.done(),a.setToast("Encountered a problem, Try Again!")})}},mounted(){this.getUserData()},computed:{computedProfilePicture(){return"https://bluvard.org/assets/"+this.userData.profile_image}}},v={class:""},y={class:"profile-picture"},P=e("p",{class:"py-2 font-medium text-2xl text-gray-700 max-md:text-xl"},"Your profile Picture",-1),w={class:"flex items-center gap-5"},U={class:""},k=["src"],I={class:"btns text-xs flex gap-2"},T={for:"profilePic",class:"px-4 py-2 rounded bg-gray-500 text-gray-50 inline-block"},E=["disabled"],V=e("hr",{class:"my-5"},null,-1),S={class:"profile-details text-sm"},B={action:""},C={class:"flex md:flex-row flex-col gap-5 mb-5"},F={class:"w-full"},N=e("label",{class:"block mb-2 text-slate-700 text-sm"},"Role",-1),A={class:"flex md:flex-row flex-col gap-5"},M={class:"w-full"},R=e("label",{class:"block mb-2 text-slate-700 text-sm"},"Full name",-1),j={class:"w-full"},G=e("label",{class:"block mb-2 text-slate-700 text-sm"},"Email address",-1),H={class:"flex md:flex-row flex-col gap-5 my-5"},J={class:"w-full"},K=e("label",{class:"block mb-2 text-slate-700 text-sm"},"Username",-1),Y={class:"w-full"},q=e("label",{class:"block mb-2 text-slate-700 text-sm"},"Phone number",-1),z=e("label",{for:"",class:"block mb-2 text-slate-700 text-sm"},"bio",-1);function L(o,t,p,O,s,i){return x(),h("div",v,[e("div",y,[P,e("div",w,[e("div",U,[e("img",{src:s.userData.profile_image?i.computedProfilePicture:s.profilePicture,class:"rounded-full border-4 w-16",alt:""},null,8,k)]),e("div",I,[e("label",T,[_("Upload new "),e("input",{type:"file",name:"",id:"profilePic",class:"hidden",ref:"file",accept:".png,.jpeg",onChange:t[0]||(t[0]=(...l)=>i.uploadProfileImage&&i.uploadProfileImage(...l))},null,544)]),e("button",{onClick:t[1]||(t[1]=m(l=>i.removeProfilePicture(),["prevent"])),class:"px-4 py-2 bg-gray-200 text-black rounded inline-block",disabled:!s.userData.profile_image},"Remove profile picture",8,E)])]),V]),e("div",S,[e("form",B,[e("div",C,[e("div",F,[N,n(e("input",{type:"text",name:"",class:"p-2 rounded border-2 px-4 border-slate-400/30 w-full text-slate-400",id:"",placeholder:"Enter full name","onUpdate:modelValue":t[2]||(t[2]=l=>s.userData.role=l),disabled:""},null,512),[[d,s.userData.role]])])]),e("div",A,[e("div",M,[R,n(e("input",{type:"text",name:"",class:"p-2 rounded border-2 px-4 border-slate-400/30 w-full",id:"",placeholder:"Enter full name","onUpdate:modelValue":t[3]||(t[3]=l=>s.userData.fullname=l)},null,512),[[d,s.userData.fullname]])]),e("div",j,[G,n(e("input",{type:"email",name:"",class:"p-2 rounded border-2 px-4 border-slate-400/30 w-full",id:"",placeholder:"Enter email address","onUpdate:modelValue":t[4]||(t[4]=l=>s.userData.email=l)},null,512),[[d,s.userData.email]])])]),e("div",H,[e("div",J,[K,n(e("input",{type:"text",name:"",class:"p-2 rounded border-2 px-4 border-slate-400/30 w-full",id:"",placeholder:"username","onUpdate:modelValue":t[5]||(t[5]=l=>s.userData.username=l)},null,512),[[d,s.userData.username]])]),e("div",Y,[q,n(e("input",{type:"tel",name:"",class:"p-2 rounded border-2 px-4 border-slate-400/30 w-full",id:"",placeholder:"+23470802345","onUpdate:modelValue":t[6]||(t[6]=l=>s.userData.phone=l)},null,512),[[d,s.userData.phone]])])]),e("div",null,[z,n(e("textarea",{name:"",id:"",class:"border-2 border-slate-400/30 w-full rounded","onUpdate:modelValue":t[7]||(t[7]=l=>s.userData.bio=l)},null,512),[[d,s.userData.bio]])]),e("button",{onClick:t[8]||(t[8]=m(l=>i.updateUser(),["prevent"])),class:"px-4 p-2 my-5 bg-gray-500 hover:bg-gray-600 text-gray-50 rounded"},"Submit")])])])}const W=f(D,[["render",L]]);export{W as default};
